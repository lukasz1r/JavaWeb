<!--///wcag ostatni wykład-->

<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>User Notes</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>

    <div class="mainLogo"><a href="home"> <img id="logo" src="logo.png"  alt=""/></a></div>

    <div class="mainHeader"><h1>User Notes</h1></div>

    <div class="loginButton" th:if="${session.isLogged}">
        <form method="GET" th:action="@{/login/logout}">
            <label style="color: #6d6b64" th:text="'Witaj '"> </label>
            <label id="welcomeUsername" th:text="${session.username}"></label>
            <button class="buttonStyle" type="submit">Wyloguj się</button>
        </form>
    </div>

    <div class="loginButton" th:unless="${session.isLogged}">
        <form method="GET" th:action="@{/login/login}">
            <button class="buttonStyle" type="submit">Zaloguj się</button>
        </form>
    </div>

</header>


<main>

    <div class="navDiv" th:if="${session.isLogged}">
        <nav>
            <h2>Menu</h2>
            <ul>
                <button class="buttonStyle" onclick="location.href='dodaj-wpis'" type="button">Dodaj<br> Wpis</button>
                <button class="buttonStyle">Konto</button>
            </ul>

        </nav>
    </div>

    <div class="wpisy">
        <div id="wpisyHeader">
             <h2 style="margin-right: 100px;">Twoje wpisy</h2>
             <div>
                <button class="buttonStyle" onclick="location.href='notes-asc'" type="button">⮝</button>
                <button class="buttonStyle" onclick="location.href='notes-desc'" type="button">⮟</button>
             </div>
        </div>

        <article th:each="note : ${notes}" th:if="${session.isLogged and session.id == note.user_id}">
                <div style="display: flex; align-items: center; justify-content: space-between;">
                    <h3 th:text="${note.title}"></h3>
                    <ul>
                        <button class="buttonStyle" 
                                style="padding: 15px; flex-direction: column; display: flex; margin-bottom: 10px;" 
                                th:onclick="'window.location.href=\'' + @{/editNote/{id}(id=${note.id})} + '\''">✒️</button> 
                        <button class="buttonStyle" 
                                style="padding: 15px; flex-direction: column; display: flex;"
                                th:onclick="'window.location.href=\'' + @{/noteDelete/{id}(id=${note.id})} + '\''">❌</button>
                    </ul>
                </div>
                <p th:each="category : ${categories}" th:if="${note.category_id == category.id}">
                    <span th:text="${category.name}"></span>
                </p>
                <p th:text="${note.date}"></p>
                
                <p style="text-align: left;" th:text="${note.note}"></p>
          </article>
     </div>

    <div class="navDiv" th:if="${session.isLogged}">
        <aside>
            <h2>Kategorie</h2>
            <ul>
                <button class="buttonStyle" style="margin-bottom: 5px;" th:each="category : ${categories}" th:text="${category.name}">
                </button>
            </ul>
        </aside>
    </div>

</main>

<footer>
    <p><b>Autorzy: </b> Adam Grzeszczuk, Dawid Kobeszko, Łukasz Kaliszewicz, Zuzanna Kalinowska &#9935</p>
</footer>

